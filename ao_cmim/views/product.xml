<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>
		<record id="action_produit" model="ir.actions.act_window">
			<field name="name">Produits CMIM</field>
			<field name="res_model">product.template</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form,kanban</field>
			<field name="search_id" ref=""/>
		</record>
		 <record id="product_template_search_view" model="ir.ui.view">
            <field name="name">cmim.product.template.search</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_search_view" />
            <field name="arch" type="xml">
                <search position='inside'>
                    <filter name="salaire" string="A base salaire" domain="[('base_calcul','=','salaire')]"/>
                    <filter string="A base tranche" name="tranche" domain="[('base_calcul','=','tranche')]"/>
                    <filter name="import_flag"  string="ImportÃ©s" icon="terp-stock_symbol-selection"
						domain="[('import_flag', '=', 'True')]" />
                </search>
            </field>
        </record>
		<record id="product_template_tree_view" model="ir.ui.view">
			<field name="name">cmim.template.product.tree</field>
			<field name="model">product.template</field>
			<field name="mode">primary</field>
			<field name="priority" eval="1" />
			<field name="arch" type="xml">
				<tree string="Product">
					<field name="code" />
					<field name="name" />
					<field name="base_calcul" />
					<field name="plancher" />
					<field name="plafond" />
				</tree>
			</field>
		</record>

		<record id="product_template_form_view" model="ir.ui.view">
			<field name="name">cmim.template.product.form</field>
			<field name="model">product.template</field>
			<field name="mode">primary</field>
			<field name="priority" eval="7" />
			<field name="inherit_id" ref="product.product_template_form_view" />
			<field name="arch" type="xml">

				<field name="type" position="after">
					<field name="base_calcul"
						attrs="{'invisible': [('product_variant_count', '>', 1)]}" />
					<field name="default_code"
						attrs="{'invisible': [('product_variant_count', '>', 1)]}" />
					<field name="code"
						attrs="{'invisible': [('product_variant_count', '>', 1)]}" />

				</field>
				<group name="group_standard_price" position="replace">
					<group name="group_standard_price">
						<field name="plancher"
							attrs="{'invisible': [('product_variant_count', '>', 1)]}" />
						<field name="plafond"
							attrs="{'invisible': [('product_variant_count', '>', 1)]}" />
					</group>
				</group>
			</field>
		</record>

	</data>
</openerp>